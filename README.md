Jesse Chen
204-578-044
CS118
project 2: Confundo

INCLUDED FILES:
		.git:
		.vagrant: 
		Vagrantfile:
			Files used by git and vagrant
		client.cpp:
			Source code for Client class
		server.cpp:
			Source code for Server class
		client.h:
			Headers for Client methods
		server.h:
			Headers for Server methods
		datagram.h:
			Structure representing a datagram
		packet.h:
			Structure representing a packet
		packetMaker.h:
			Headers for packetMaker methods
		packetMaker.cpp:
			Soure code for packetMaker class used to manipulate packets and datagrams
		Makefile:
			Makefile with the following options:
				default: compile client and server
				all: compile client and server
				client: compiles client
				server: compiles server
				clean: deletes all files generated by the Makefile
				tarball: zips entire project folder into a tarball
		README.md:
			this file

HIGH LEVEL DESIGN:
	client:
		1. client parses port number, host name, and file name from command line. 
		2. client creates a socket and connects to the specified port and host.
		3. client initates a 3-way handshake
		4. client spawns three threads: one is a timeout timer, one listens for incoming packets, and one sends out packets.  
			-if timeout timer is not reset every half-second by the listening thread, the sending thread is directed to resend the last un-acknowledged packet.  
			-the listening thread receives packets and modifies seq and ack numbers accordingly
			-the sending thread observes window size, sent packets, and received packets to know when to send more packets
		5. when the sending thread reaches the end of the file and the listening thread receives the last ack, all the threads are shut down  

	server.cpp:
		1. server parses port number, file location from command line.
		2. server creates a socket and binds it to the specified port number, then listens for incoming packets. 
		3. server accepts all incoming packetes, and uses vectors to keep track of each connection's values, such as ack, seq, etc
		4. Upon receiving each packet, the server responds with an ack packet to the corresponding client. 
		5. Upon receiving syn and fin packets, server handles the handshake or closes the connection.



ENCOUNTERED DIFFICULTIES: 
	1. correct ack, seq numbers:
		Updating the ack and seq numbers while simultaneously receiving and sending packets proved to be complicated.  Care must be taken to avoid race conditions in multi-threaded applications.
	2. timers: 
		Different behaviors to be executed after different times made for various timer constructions in order to get the required behaviors.  ex. Client's retransmit originally had issues with retransmitting the right data from the right location in the file.  
	3. memory leaks:
		There were many uses of malloc() within loops which resulted in memory leaks. Large files would cause the program to be killed by the kernel so the program had to be modified to include free() where needed.  
	4. seq, ack overflow:
		Since seq and ack numbers had a maximum, they could not be directly compared to determine order. ex. seq# 125 is not necessarily a later packet than seq# 100.  Keeping track of how many times the seq# overflowed allowed for comparisons of seq/ack numbers. 

ADDITIONAL LIBRARIES USED: 
	client.cpp:
		#include <sys/types.h>
		#include <sys/socket.h>
		#include <netinet/in.h>
		#include <arpa/inet.h>
		#include <string.h>
		#include <stdio.h>
		#include <errno.h>
		#include <unistd.h>
		#include <stdlib.h>
		#include <netdb.h>
		#include <fcntl.h>
		#include <thread>
		#includelude <iostream>
		#include <sstream>
		#include <thread>
		#include <atomic>
		#include <mutex>
		#include <ctime>
	server.cpp:
		#include <sys/types.h>
		#include <sys/socket.h>
		#include <netinet/in.h>
		#include <arpa/inet.h>
		#include <string.h>
		#include <stdio.h>
		#include <errno.h>
		#include <unistd.h>
		#include <stdlib.h>
		#include <netdb.h>
		#include <signal.h>
		#include <fcntl.h>
		#include <thread>
		#include <iostream>
		#include <sstream>
		#include <thread>
		#include <atomic>
		#include <mutex>
		#include <vector>
		#include <ctime>

OTHER ACKNOWLEDGMENTS:
	1. Linux man pages: man7.org, linux.die.net
	2. Online man pages/code example: tutorialspoint.com
	3. Online man pages/code exmaple: cplusplus.com

